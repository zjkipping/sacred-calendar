<div class="container">
  <mat-toolbar class="calendar-toolbar">
    <mat-toolbar-row>
      <button mat-raised-button color="primary" (click)="addEvent()">Add Event</button>
      <button mat-raised-button color="primary" (click)="manageCategories()">Manage Categories</button>
      <div class="spacer"></div>
      <button mat-raised-button color="accent" *ngIf="viewingFriend" (click)="viewMyCalendar()">View My Calendar</button>
    </mat-toolbar-row>
  </mat-toolbar>
  <ng-container *ngIf="!ds.loadingEvents; else loadingCalendar">
    <app-month-view
      (dateSelected)="selectDate($event)"
      (monthBackward)="cs.previousMonth()"
      (monthForward)="cs.nextMonth()"
      [current]="cs.current | async"
      [days]="cs.days | async"
    ></app-month-view>
  </ng-container>
  <ng-template #loadingCalendar>
    <div class="loading">
      <div class="loading-spinner"></div>
      <p class="text-center">Loading Calendar...</p>
    </div>
  </ng-template>
</div>

<app-day-view
  (close)="closeSideNav()"
  (editEvent)="editEvent($event)"
  (deleteEvent)="deleteEvent($event)"
  (newEvent)="addEvent()"
  [day]="cs.selected | async"
  [open]="sideNavOpen"
></app-day-view>
